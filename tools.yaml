sources:
  retail-db:
    kind: mysql
    host: localhost
    port: 3306
    database: retail_store
    user: retail_user        # <- Changed to match
    password: retail_password # <- Changed to match
  claims:
    kind: mysql
    host: localhost
    port: 3306
    database: claims
    user: claims_user
    password: claims_password

tools:
  all-tables-retail-db:
    kind: mysql-sql
    source: retail-db
    statement: |
      SHOW TABLES
    description: Returns the available tables in the retail database. This tool takes no parameters 
      and returns a list of all table names.Use this tool first when you need to discover what 
      tables exist in the database before using schema-for-table-retail-db to understand their structure. 
    parameters: []
  schema-for-table-retail-db:
    kind: mysql-sql
    source: retail-db
    statement: |
      SELECT 
        COLUMN_NAME,
        DATA_TYPE,
        IS_NULLABLE,
        COLUMN_KEY,
        COLUMN_DEFAULT,
        EXTRA
      FROM INFORMATION_SCHEMA.COLUMNS 
      WHERE TABLE_NAME = ?
      AND TABLE_SCHEMA = DATABASE()
      ORDER BY ORDINAL_POSITION
    description: |
      Use this tool to get the schema/structure information for a specific table in the retail database.
      Takes a table name and returns detailed information about all columns in that table
      including column names, data types, nullable status, keys, and default values.
      This tool is essential for understanding the database structure before writing SQL queries.
      Always use this tool when you need to know what columns exist in a table.
      Do NOT guess table names - use the list-tables-retail-db tool first if you're unsure.
      Example usage: If you want to know the structure of a "customers" table, use table_name = "customers". 
      Example:
      {{
          "table_name": "customers"
      }}
      Example:
      {{
          "table_name": "orders"
      }}
    parameters:
      - name: table_name
        type: string
        description: Name of table to get schema information for 
  search-retail-db:
    kind: mysql-execute-sql
    source: retail-db
    description: Execute custom MySQL queries against the retail database which is addressed as retail_store (this includes data about customers, orders, products, inventory, and sales metrics). Access to each table's schema is available and can be queried. 
  all-tables-claims-db:
    kind: mysql-sql
    source: claims
    statement: |
      SHOW TABLES
    description: Returns the available tables in the retail database. This tool takes no parameters 
      and returns a list of all table names.Use this tool first when you need to discover what 
      tables exist in the database before using schema-for-table-retail-db to understand their structure. 
    parameters: []
  schema-for-table-claims-db:
    kind: mysql-sql
    source: claims
    statement: |
      SELECT 
        COLUMN_NAME,
        DATA_TYPE,
        IS_NULLABLE,
        COLUMN_KEY,
        COLUMN_DEFAULT,
        EXTRA
      FROM INFORMATION_SCHEMA.COLUMNS 
      WHERE TABLE_NAME = ?
      AND TABLE_SCHEMA = DATABASE()
      ORDER BY ORDINAL_POSITION
    description: |
      Use this tool to get the schema/structure information for a specific table in the retail database.
      Takes a table name and returns detailed information about all columns in that table
      including column names, data types, nullable status, keys, and default values.
      This tool is essential for understanding the database structure before writing SQL queries.
      Always use this tool when you need to know what columns exist in a table.
      Do NOT guess table names - use the list-tables-retail-db tool first if you're unsure.
      Example usage: If you want to know the structure of a "customers" table, use table_name = "customers". 
      Example:
      {{
          "table_name": "customers"
      }}
      Example:
      {{
          "table_name": "orders"
      }}
    parameters:
      - name: table_name
        type: string
        description: Name of table to get schema information for 
  search-claims-db:
   kind: mysql-execute-sql
   source: claims
   description: Execute custom MySQL queries against the claims database (this includes data about policyholders, insurance policies, claims, adjusters, claim statuses, and policy coverage details). Access to each table's schema is available and can be queried.

toolsets:
  retail-tools:
    - search-retail-db
    - all-tables-retail-db
    - schema-for-table-retail-db
  claims_tools:
    - search-claims-db
    - all-tables-claims-db
    - schema-for-table-claims-db
  all_tools:
    - search-retail-db
    - all-tables-retail-db
    - schema-for-table-retail-db
    - search-claims-db
    - all-tables-claims-db
    - schema-for-table-claims-db
